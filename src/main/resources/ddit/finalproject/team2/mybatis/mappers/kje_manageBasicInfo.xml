<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ddit.finalproject.team2.admin.dao.KJE_IManageBasicInfoDao">
	
	<select id="serlectBInfoList" resultType="KJE_OpenSemesterVo">
	SELECT
	OPENSEME_YEAR, OPENSEME_SEMESTER, OPENSEME_NO,
	TO_CHAR(OPENSEME_ATTEND1,'YYYY/MM/dd') OPENSEME_ATTEND1,
	TO_CHAR(OPENSEME_ATTEND2,'YYYY/MM/dd') OPENSEME_ATTEND2,
	TO_CHAR(OPENSEME_REGISTGRADE1,'YYYY/MM/dd') OPENSEME_REGISTGRADE1,
	TO_CHAR(OPENSEME_REGISTGRADE2,'YYYY/MM/dd') OPENSEME_REGISTGRADE2,
	TO_CHAR(OPENSEME_EVALUATE1,'YYYY/MM/dd') OPENSEME_EVALUATE1,
	TO_CHAR(OPENSEME_EVALUATE2,'YYYY/MM/dd') OPENSEME_EVALUATE2,
	TO_CHAR(OPENSEME_CHECKGRADE1,'YYYY/MM/dd') OPENSEME_CHECKGRADE1,
	TO_CHAR(OPENSEME_CHECKGRADE2,'YYYY/MM/dd') OPENSEME_CHECKGRADE2,
	TO_CHAR(OPENSEME_PERIOD1,'YYYY/MM/dd') OPENSEME_PERIOD1,
	TO_CHAR(OPENSEME_PERIOD2,'YYYY/MM/dd') OPENSEME_PERIOD2,
	TO_CHAR(OPENSEME_REGISTGRADE3,'YYYY/MM/dd') OPENSEME_REGISTGRADE3,
	TO_CHAR(OPENSEME_REGISTGRADE4,'YYYY/MM/dd') OPENSEME_REGISTGRADE4,
	TO_CHAR(OPENSEME_CHECKGRADE3,'YYYY/MM/dd') OPENSEME_CHECKGRADE3,
	TO_CHAR(OPENSEME_CHECKGRADE4,'YYYY/MM/dd') OPENSEME_CHECKGRADE4
	FROM
	OPENSEMESTER
	</select>
	
	<select id="selectBInfo" parameterType="string" resultType="KJE_OperationStatisticsVo">
	SELECT
	OPENSEME_YEAR, OPENSEME_SEMESTER, OPENSEME_NO,
	TO_CHAR(OPENSEME_ATTEND1,'YYYY/MM/dd') OPENSEME_ATTEND1,
	TO_CHAR(OPENSEME_ATTEND2,'YYYY/MM/dd') OPENSEME_ATTEND2,
	TO_CHAR(OPENSEME_REGISTGRADE1,'YYYY/MM/dd') OPENSEME_REGISTGRADE1,
	TO_CHAR(OPENSEME_REGISTGRADE2,'YYYY/MM/dd') OPENSEME_REGISTGRADE2,
	TO_CHAR(OPENSEME_EVALUATE1,'YYYY/MM/dd') OPENSEME_EVALUATE1,
	TO_CHAR(OPENSEME_EVALUATE2,'YYYY/MM/dd') OPENSEME_EVALUATE2,
	TO_CHAR(OPENSEME_CHECKGRADE1,'YYYY/MM/dd') OPENSEME_CHECKGRADE1,
	TO_CHAR(OPENSEME_CHECKGRADE2,'YYYY/MM/dd') OPENSEME_CHECKGRADE2,
	TO_CHAR(OPENSEME_PERIOD1,'YYYY/MM/dd') OPENSEME_PERIOD1,
	TO_CHAR(OPENSEME_PERIOD2,'YYYY/MM/dd') OPENSEME_PERIOD2,
	TO_CHAR(OPENSEME_REGISTGRADE3,'YYYY/MM/dd') OPENSEME_REGISTGRADE3,
	TO_CHAR(OPENSEME_REGISTGRADE4,'YYYY/MM/dd') OPENSEME_REGISTGRADE4,
	TO_CHAR(OPENSEME_CHECKGRADE3,'YYYY/MM/dd') OPENSEME_CHECKGRADE3,
	TO_CHAR(OPENSEME_CHECKGRADE4,'YYYY/MM/dd') OPENSEME_CHECKGRADE4
	FROM
	OPENSEMESTER
	WHERE OPENSEME_NO=#{openseme_no}
	</select>
	
	<select id="searchBInfo" parameterType="hashMap" resultType="KJE_OpenSemesterVo">
	SELECT
	OPENSEME_YEAR, OPENSEME_SEMESTER, OPENSEME_NO,
	TO_CHAR(OPENSEME_ATTEND1,'YYYY/MM/dd') OPENSEME_ATTEND1,
	TO_CHAR(OPENSEME_ATTEND2,'YYYY/MM/dd') OPENSEME_ATTEND2,
	TO_CHAR(OPENSEME_REGISTGRADE1,'YYYY/MM/dd') OPENSEME_REGISTGRADE1,
	TO_CHAR(OPENSEME_REGISTGRADE2,'YYYY/MM/dd') OPENSEME_REGISTGRADE2,
	TO_CHAR(OPENSEME_EVALUATE1,'YYYY/MM/dd') OPENSEME_EVALUATE1,
	TO_CHAR(OPENSEME_EVALUATE2,'YYYY/MM/dd') OPENSEME_EVALUATE2,
	TO_CHAR(OPENSEME_CHECKGRADE1,'YYYY/MM/dd') OPENSEME_CHECKGRADE1,
	TO_CHAR(OPENSEME_CHECKGRADE2,'YYYY/MM/dd') OPENSEME_CHECKGRADE2,
	TO_CHAR(OPENSEME_PERIOD1,'YYYY/MM/dd') OPENSEME_PERIOD1,
	TO_CHAR(OPENSEME_PERIOD2,'YYYY/MM/dd') OPENSEME_PERIOD2,
	TO_CHAR(OPENSEME_REGISTGRADE3,'YYYY/MM/dd') OPENSEME_REGISTGRADE3,
	TO_CHAR(OPENSEME_REGISTGRADE4,'YYYY/MM/dd') OPENSEME_REGISTGRADE4,
	TO_CHAR(OPENSEME_CHECKGRADE3,'YYYY/MM/dd') OPENSEME_CHECKGRADE3,
	TO_CHAR(OPENSEME_CHECKGRADE4,'YYYY/MM/dd') OPENSEME_CHECKGRADE4
	FROM
	OPENSEMESTER
	WHERE OPENSEME_YEAR=#{openseme_year} AND OPENSEME_SEMESTER=#{openseme_semester}
	</select>
	
	<insert id="insertBInfo" parameterType="KJE_OpenSemesterVo">
	<selectKey resultType="string" keyProperty="openseme_no" order="BEFORE">
			SELECT OPENSEMESTER_SEQ.NEXTVAL FROM DUAL
	</selectKey>
	INSERT INTO OPENSEMESTER (
		OPENSEME_YEAR,
	    OPENSEME_SEMESTER,
	    OPENSEME_NO,
	    OPENSEME_ATTEND1,
	    OPENSEME_ATTEND2,
	    OPENSEME_REGISTGRADE1,
	    OPENSEME_REGISTGRADE2,
	    OPENSEME_EVALUATE1,
	    OPENSEME_EVALUATE2,
	    OPENSEME_CHECKGRADE1,
	    OPENSEME_CHECKGRADE2,
	    OPENSEME_PERIOD1,
	    OPENSEME_PERIOD2,
	    OPENSEME_REGISTGRADE3,
	    OPENSEME_REGISTGRADE4,
	    OPENSEME_CHECKGRADE3,
	    OPENSEME_CHECKGRADE4
		) VALUES (
		#{openseme_year},
	    #{openseme_semester},
	    #{openseme_no},
	    TO_DATE(#{openseme_attend1},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_attend2},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_registgrade1},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_registgrade2},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_evaluate1},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_evaluate2},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_checkgrade1},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_checkgrade2},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_period1},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_period2},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_registgrade3},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_registgrade4},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_checkgrade3},'YYYY/MM/DD'),
	    TO_DATE(#{openseme_checkgrade4},'YYYY/MM/DD')
		)
	</insert>
	
	<update id="updateBInfo" parameterType="KJE_OpenSemesterVo">
	UPDATE OPENSEMESTER
	SET
	OPENSEME_ATTEND1 = TO_DATE(#{openseme_attend1},'YYYY/MM/DD'),
	OPENSEME_ATTEND2 = TO_DATE(#{openseme_attend2},'YYYY/MM/DD'),
	OPENSEME_REGISTGRADE1=TO_DATE(#{openseme_registgrade1},'YYYY/MM/DD'),
	OPENSEME_REGISTGRADE2 =TO_DATE(#{openseme_registgrade2},'YYYY/MM/DD'),
	OPENSEME_EVALUATE1 = TO_DATE(#{openseme_evaluate1},'YYYY/MM/DD'),
	OPENSEME_EVALUATE2 = TO_DATE(#{openseme_evaluate2},'YYYY/MM/DD'),
	OPENSEME_CHECKGRADE1= TO_DATE(#{openseme_checkgrade1},'YYYY/MM/DD'),
	OPENSEME_CHECKGRADE2 = TO_DATE(#{openseme_checkgrade2},'YYYY/MM/DD'),
	OPENSEME_PERIOD1= TO_DATE(#{openseme_period1},'YYYY/MM/DD'),
	OPENSEME_PERIOD2 = TO_DATE(#{openseme_period2},'YYYY/MM/DD'),
	OPENSEME_REGISTGRADE3= TO_DATE(#{openseme_registgrade3},'YYYY/MM/DD'),
	OPENSEME_REGISTGRADE4 = TO_DATE(#{openseme_registgrade4},'YYYY/MM/DD'),
	OPENSEME_CHECKGRADE3= TO_DATE(#{openseme_checkgrade3},'YYYY/MM/DD'),
	OPENSEME_CHECKGRADE4 = TO_DATE(#{openseme_checkgrade4}'YYYY/MM/DD')
	WHERE OPENSEME_NO=#{openseme_no}
	</update>
	
	
	<delete id="deleteBInfo" parameterType="string">
	DELETE FROM OPENSEMESTER WHERE OPENSEME_NO = #{OPENSEME_NO}
	</delete>
	
</mapper>